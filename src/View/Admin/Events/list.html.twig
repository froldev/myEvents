{% extends "adminLayout.html.twig" %}

{% block title %}Olympic Nantais || Liste des évènements{% endblock %}

{% block content %}

    <section id="adminEvent">
        <div class="row">

            <h1 class="col-8">Ajouter un évènement :</h1>
            <button type="submit" class="btn btn-primary btn-lg">
                <a class="text-white col-4" href="/events/add">Ajouter</a>
            </button>

        </div>
    </section>

    <section id="adminEventList">
        <div class="row">

            <h1>Liste des Evènements :</h1>
            <table class="table col-12">
                <thead class="table-striped">
                <tr class="bg-warning">
                    <th scope="col">Artiste</th>
                    <th scope="col">Date</th>
                    <th scope="col">Catégorie</th>
                    <th scope="col">Modifier</th>
                    <th scope="col">Supprimer</th>
                </tr>
                </thead>
                <tbody>
                {% if events is empty %}
                    <tr>
                        <td>Il n'y a pas d'évènements pour l'instant</td>
                    </tr>
                {% else %}
                    {% for event in events %}
                        <tr>
                            <td>{{ event.title|upper }}</td>
                            <td>{{ event.date_time|date("d/m/Y") }}</td>
                            <td>{{ event.category }}</td>
                            <td>
                                <button type="button" class="btn btn-success">
                                    <a class="text-white" href="/events/edit/{{ event.id }}">Mise à jour</a>
                                </button>
                            </td>
                            <td>
                                <button type="button" class="btn btn-danger" name="suppression"
                                        src="icons/page_delete.png" alt="Supprimer l'évènement"
                                        onclick="if(window.confirm ('Voulez-vous vraiment supprimer cet évènement ?'))
                                        {return true;}else{return false;}">
                                    <a class="text-white" href="/events/delete/{{ event.id }}">Supprimer</a>
                                </button>
                            </td>
                        </tr>
                    {% endfor %}
                {% endif %}
                </tbody>
            </table>

        </div>
    </section>

{% endblock %}
